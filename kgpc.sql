--
-- PostgreSQL database dump
--

-- Dumped from database version 16.3
-- Dumped by pg_dump version 16.3

-- Started on 2025-06-21 12:23:09

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- TOC entry 216 (class 1259 OID 133980)
-- Name: carritos; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.carritos (
    id bigint NOT NULL,
    usuarioid bigint
);


ALTER TABLE public.carritos OWNER TO postgres;

--
-- TOC entry 215 (class 1259 OID 133979)
-- Name: carritos_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.carritos ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.carritos_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 218 (class 1259 OID 133986)
-- Name: cartitems; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.cartitems (
    id bigint NOT NULL,
    cantidad integer NOT NULL,
    cartid bigint,
    productoid bigint
);


ALTER TABLE public.cartitems OWNER TO postgres;

--
-- TOC entry 217 (class 1259 OID 133985)
-- Name: cartitems_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.cartitems ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.cartitems_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 220 (class 1259 OID 133992)
-- Name: detalles_pedido; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.detalles_pedido (
    id bigint NOT NULL,
    cantidad integer NOT NULL,
    nombre_producto character varying(255),
    precio double precision NOT NULL,
    historialid bigint
);


ALTER TABLE public.detalles_pedido OWNER TO postgres;

--
-- TOC entry 219 (class 1259 OID 133991)
-- Name: detalles_pedido_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.detalles_pedido ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.detalles_pedido_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 222 (class 1259 OID 133998)
-- Name: historial; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.historial (
    id bigint NOT NULL,
    fecha date,
    usuarioid bigint
);


ALTER TABLE public.historial OWNER TO postgres;

--
-- TOC entry 221 (class 1259 OID 133997)
-- Name: historial_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.historial ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.historial_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 224 (class 1259 OID 134004)
-- Name: notificaciones; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.notificaciones (
    id bigint NOT NULL,
    destino_notificacion character varying(255),
    fecha_not date,
    texto character varying(255),
    usuarioid bigint,
    CONSTRAINT notificaciones_destino_notificacion_check CHECK (((destino_notificacion)::text = ANY ((ARRAY['ADMIN'::character varying, 'USER'::character varying])::text[])))
);


ALTER TABLE public.notificaciones OWNER TO postgres;

--
-- TOC entry 223 (class 1259 OID 134003)
-- Name: notificaciones_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.notificaciones ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.notificaciones_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 226 (class 1259 OID 134013)
-- Name: producto; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.producto (
    id bigint NOT NULL,
    categoria character varying(255),
    descripcion character varying(255),
    imagenurl character varying(255),
    nombre character varying(255),
    precio double precision,
    CONSTRAINT producto_categoria_check CHECK (((categoria)::text = ANY ((ARRAY['Monitor'::character varying, 'Mouse'::character varying, 'Teclado'::character varying, 'Case'::character varying, 'Procesador'::character varying, 'TarjetaGrafica'::character varying, 'MemoriaRAM'::character varying, 'MemoriaROM'::character varying, 'PlacaMadre'::character varying, 'Accesorios'::character varying, 'FuentePoder'::character varying, 'Ventilador'::character varying])::text[])))
);


ALTER TABLE public.producto OWNER TO postgres;

--
-- TOC entry 225 (class 1259 OID 134012)
-- Name: producto_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.producto ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.producto_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 228 (class 1259 OID 134022)
-- Name: usuarios; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.usuarios (
    id bigint NOT NULL,
    apellido character varying(255),
    cedula character varying(255),
    cvv character varying(255),
    direccion character varying(255),
    email character varying(255),
    fecha_validez character varying(255),
    nombre character varying(255),
    nombre_tarjeta character varying(255),
    numero_tarjeta character varying(255),
    pass character varying(255),
    rol character varying(255),
    telefono character varying(255),
    usuario character varying(255),
    CONSTRAINT usuarios_rol_check CHECK (((rol)::text = ANY ((ARRAY['ADMIN'::character varying, 'USER'::character varying])::text[])))
);


ALTER TABLE public.usuarios OWNER TO postgres;

--
-- TOC entry 227 (class 1259 OID 134021)
-- Name: usuarios_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.usuarios ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.usuarios_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 4893 (class 0 OID 133980)
-- Dependencies: 216
-- Data for Name: carritos; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.carritos (id, usuarioid) FROM stdin;
1	1
2	2
3	3
4	4
5	5
6	6
\.


--
-- TOC entry 4895 (class 0 OID 133986)
-- Dependencies: 218
-- Data for Name: cartitems; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.cartitems (id, cantidad, cartid, productoid) FROM stdin;
\.


--
-- TOC entry 4897 (class 0 OID 133992)
-- Dependencies: 220
-- Data for Name: detalles_pedido; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.detalles_pedido (id, cantidad, nombre_producto, precio, historialid) FROM stdin;
1	3	MONITOR ASUS TUF Gaming	340	1
2	1	 GIGABYTE Radeon RX-7600 GAMING OC 8G 8GB	430	2
3	1	MONITOR ASUS TUF Gaming	340	3
\.


--
-- TOC entry 4899 (class 0 OID 133998)
-- Dependencies: 222
-- Data for Name: historial; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.historial (id, fecha, usuarioid) FROM stdin;
1	2024-12-14	1
2	2025-06-11	4
3	2025-06-11	5
\.


--
-- TOC entry 4901 (class 0 OID 134004)
-- Dependencies: 224
-- Data for Name: notificaciones; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.notificaciones (id, destino_notificacion, fecha_not, texto, usuarioid) FROM stdin;
1	ADMIN	2024-12-14	Compra realizada porFederico Isaías , ID del pedido: 1	1
2	ADMIN	2025-06-11	Compra realizada por1 , ID del pedido: 2	4
3	ADMIN	2025-06-11	Compra realizada por2 , ID del pedido: 3	5
\.


--
-- TOC entry 4903 (class 0 OID 134013)
-- Dependencies: 226
-- Data for Name: producto; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.producto (id, categoria, descripcion, imagenurl, nombre, precio) FROM stdin;
4	PlacaMadre	AM5 2DDR5 HDMI D-SUB DP M.2 USB3.2 PCIE4.0 MATX	https://coretms.tecnomegastore.ec/assets/images/sm/24/MBOGIBA620MS2H-1-sm.webp	MBO GIGABYTE A620M S2H AMD	130
5	TarjetaGrafica	 GIGABYTE Radeon RX-7600 GAMING OC 8G 8GB	https://coretms.tecnomegastore.ec/assets/images/lg/24/VIDGIBR76GAOC8G-1-lg.webp	 GIGABYTE Radeon RX-7600 GAMING OC 8G 8GB	430
3	Monitor	27Inch VG279Q1 Full HD IPS 16Hz 1ms 2HDMI DP Black	https://coretms.tecnomegastore.ec/assets/images/lg/24/MONASUVG279Q1A-1-lg.webp	MONITOR ASUS TUF Gaming	340
\.


--
-- TOC entry 4905 (class 0 OID 134022)
-- Dependencies: 228
-- Data for Name: usuarios; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.usuarios (id, apellido, cedula, cvv, direccion, email, fecha_validez, nombre, nombre_tarjeta, numero_tarjeta, pass, rol, telefono, usuario) FROM stdin;
1	Robles Castro	0123456789	950	localhost	fedex@admin.com	15/12	Federico Isaías	Federico Robles Castro	0123456789	8c6976e5b5410415bde908bd4dee15dfb167a9c873fc4bb8a81f6f2ab448a918	ADMIN	0123456789	Fedex95
2	Grob Rosero	9876543210	987	Villas de Altamonte	a@a.com	98/58	Amelie	Amelie Grob Rosero	9876543210	6b86b273ff34fce19d6b804eff5a3f5747ada4eaa22f1d49c01e52ddb7875b4b	USER	9876543210	AmeGrob
3	Xd	9089209	322	AQIO	DFSL@XD.COM	3213	Prueba	Amelie Grob Rosero	321321	b221d9dbb083a7f33428d7c2a3c3198ae925614d70210e28716ccaa7cd4ddb79	USER	0990290	hola
4	1	1	1	1	1xd@1.com	1	1	1	1	6b86b273ff34fce19d6b804eff5a3f5747ada4eaa22f1d49c01e52ddb7875b4b	ADMIN	1	1
5	2	2	2	2	2@2.com	2	2	2	2	d4735e3a265e16eee03f59718b9b5d03019c07d8b6c51f90da3a666eec13ab35	USER	2	2
6	Valencia	09230919	867	Tachina	enner@gmail.com	16/08	Enner	Enner Valencia	123 2344 1233	01f71be4ebb148d35c34895e979b7f8ddc4b4ca0bf8eb1f54df93f19ddbda793	USER	3298	EnnercitoV
\.


--
-- TOC entry 4911 (class 0 OID 0)
-- Dependencies: 215
-- Name: carritos_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.carritos_id_seq', 6, true);


--
-- TOC entry 4912 (class 0 OID 0)
-- Dependencies: 217
-- Name: cartitems_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.cartitems_id_seq', 8, true);


--
-- TOC entry 4913 (class 0 OID 0)
-- Dependencies: 219
-- Name: detalles_pedido_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.detalles_pedido_id_seq', 3, true);


--
-- TOC entry 4914 (class 0 OID 0)
-- Dependencies: 221
-- Name: historial_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.historial_id_seq', 3, true);


--
-- TOC entry 4915 (class 0 OID 0)
-- Dependencies: 223
-- Name: notificaciones_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.notificaciones_id_seq', 3, true);


--
-- TOC entry 4916 (class 0 OID 0)
-- Dependencies: 225
-- Name: producto_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.producto_id_seq', 5, true);


--
-- TOC entry 4917 (class 0 OID 0)
-- Dependencies: 227
-- Name: usuarios_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.usuarios_id_seq', 6, true);


--
-- TOC entry 4722 (class 2606 OID 133984)
-- Name: carritos carritos_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.carritos
    ADD CONSTRAINT carritos_pkey PRIMARY KEY (id);


--
-- TOC entry 4726 (class 2606 OID 133990)
-- Name: cartitems cartitems_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.cartitems
    ADD CONSTRAINT cartitems_pkey PRIMARY KEY (id);


--
-- TOC entry 4728 (class 2606 OID 133996)
-- Name: detalles_pedido detalles_pedido_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.detalles_pedido
    ADD CONSTRAINT detalles_pedido_pkey PRIMARY KEY (id);


--
-- TOC entry 4730 (class 2606 OID 134002)
-- Name: historial historial_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.historial
    ADD CONSTRAINT historial_pkey PRIMARY KEY (id);


--
-- TOC entry 4732 (class 2606 OID 134011)
-- Name: notificaciones notificaciones_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.notificaciones
    ADD CONSTRAINT notificaciones_pkey PRIMARY KEY (id);


--
-- TOC entry 4734 (class 2606 OID 134020)
-- Name: producto producto_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.producto
    ADD CONSTRAINT producto_pkey PRIMARY KEY (id);


--
-- TOC entry 4736 (class 2606 OID 134037)
-- Name: usuarios uk3m5n1w5trapxlbo2s42ugwdmd; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.usuarios
    ADD CONSTRAINT uk3m5n1w5trapxlbo2s42ugwdmd UNIQUE (usuario);


--
-- TOC entry 4738 (class 2606 OID 134033)
-- Name: usuarios ukefovjjo5q5jlsa0f9eoptdjly; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.usuarios
    ADD CONSTRAINT ukefovjjo5q5jlsa0f9eoptdjly UNIQUE (cedula);


--
-- TOC entry 4740 (class 2606 OID 134035)
-- Name: usuarios ukkfsp0s1tflm1cwlj8idhqsad0; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.usuarios
    ADD CONSTRAINT ukkfsp0s1tflm1cwlj8idhqsad0 UNIQUE (email);


--
-- TOC entry 4724 (class 2606 OID 134031)
-- Name: carritos ukm4c97aj3t4kcxr4ddyi4a9wo4; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.carritos
    ADD CONSTRAINT ukm4c97aj3t4kcxr4ddyi4a9wo4 UNIQUE (usuarioid);


--
-- TOC entry 4742 (class 2606 OID 134029)
-- Name: usuarios usuarios_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.usuarios
    ADD CONSTRAINT usuarios_pkey PRIMARY KEY (id);


--
-- TOC entry 4743 (class 2606 OID 134038)
-- Name: carritos fk55a2ghxb2tld2604ksxdnri37; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.carritos
    ADD CONSTRAINT fk55a2ghxb2tld2604ksxdnri37 FOREIGN KEY (usuarioid) REFERENCES public.usuarios(id);


--
-- TOC entry 4747 (class 2606 OID 134058)
-- Name: historial fk7e0c9k59fdjui4veeevp6rh9e; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.historial
    ADD CONSTRAINT fk7e0c9k59fdjui4veeevp6rh9e FOREIGN KEY (usuarioid) REFERENCES public.usuarios(id);


--
-- TOC entry 4744 (class 2606 OID 134048)
-- Name: cartitems fkkj5jbf0e1hvf1pfqc0a2d1tdw; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.cartitems
    ADD CONSTRAINT fkkj5jbf0e1hvf1pfqc0a2d1tdw FOREIGN KEY (productoid) REFERENCES public.producto(id);


--
-- TOC entry 4746 (class 2606 OID 134053)
-- Name: detalles_pedido fkmvgepabxtnaso9u95cktfganf; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.detalles_pedido
    ADD CONSTRAINT fkmvgepabxtnaso9u95cktfganf FOREIGN KEY (historialid) REFERENCES public.historial(id);


--
-- TOC entry 4745 (class 2606 OID 134043)
-- Name: cartitems fkoo0ndj5hv610rs34b2i7bocvw; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.cartitems
    ADD CONSTRAINT fkoo0ndj5hv610rs34b2i7bocvw FOREIGN KEY (cartid) REFERENCES public.carritos(id);


--
-- TOC entry 4748 (class 2606 OID 134063)
-- Name: notificaciones fkrd0chsoc6ngs93xn7gdvrl51b; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.notificaciones
    ADD CONSTRAINT fkrd0chsoc6ngs93xn7gdvrl51b FOREIGN KEY (usuarioid) REFERENCES public.usuarios(id);


-- Completed on 2025-06-21 12:23:09

--
-- PostgreSQL database dump complete
--

